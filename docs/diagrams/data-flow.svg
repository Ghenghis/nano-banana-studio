<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 650" width="1100" height="650">
  <defs>
    <marker id="flowArrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
    <marker id="dataArrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/>
    </marker>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1100" height="650" fill="#0d1117"/>
  
  <!-- Title -->
  <text x="550" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#22c55e">
    üìä DATA FLOW DIAGRAM - VIDEO GENERATION PIPELINE
  </text>
  
  <!-- User Input -->
  <ellipse cx="100" cy="120" rx="70" ry="40" fill="#1a1b26" stroke="#f97316" stroke-width="2"/>
  <text x="100" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#f97316">USER</text>
  <text x="100" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#9ca3af">Input</text>
  
  <!-- Input Data -->
  <rect x="200" y="80" width="150" height="80" rx="8" fill="#1a1b26" stroke="#eab308" stroke-width="2"/>
  <text x="275" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#eab308">INPUT DATA</text>
  <text x="275" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ Text Prompts</text>
  <text x="275" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ Reference Images</text>
  <text x="275" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ Audio Files</text>
  
  <!-- Arrow from User to Input -->
  <line x1="170" y1="120" x2="195" y2="120" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <!-- n8n Orchestrator -->
  <rect x="400" y="60" width="180" height="100" rx="10" fill="#1a1b26" stroke="#ff6d5a" stroke-width="2" filter="url(#glow)"/>
  <text x="490" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ff6d5a">n8n ORCHESTRATOR</text>
  <text x="490" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#9ca3af">Workflow Engine</text>
  <text x="490" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">14 Workflows</text>
  <text x="490" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">Parallel Execution</text>
  
  <!-- Arrow from Input to n8n -->
  <line x1="350" y1="120" x2="395" y2="110" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <!-- Prompt Enhancement -->
  <rect x="620" y="40" width="160" height="70" rx="8" fill="#1a1b26" stroke="#fbbf24" stroke-width="2"/>
  <text x="700" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fbbf24">PROMPT ENHANCER</text>
  <text x="700" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">7-Stage Pipeline</text>
  <text x="700" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">LLM Processing</text>
  
  <!-- Audio Analysis -->
  <rect x="620" y="120" width="160" height="70" rx="8" fill="#1a1b26" stroke="#06b6d4" stroke-width="2"/>
  <text x="700" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#06b6d4">AUDIO ANALYZER</text>
  <text x="700" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">Beat Detection</text>
  <text x="700" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">BPM + Markers</text>
  
  <!-- Arrows from n8n -->
  <line x1="580" y1="90" x2="615" y2="75" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  <line x1="580" y1="130" x2="615" y2="145" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <!-- Processing Layer -->
  <rect x="50" y="220" width="200" height="180" rx="10" fill="#1a1b26" stroke="#3b82f6" stroke-width="2"/>
  <text x="150" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#3b82f6">IMAGE GENERATION</text>
  
  <rect x="70" y="260" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#60a5fa" stroke-width="1"/>
  <text x="105" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#60a5fa">Gemini</text>
  <text x="105" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">Cloud</text>
  
  <rect x="160" y="260" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#60a5fa" stroke-width="1"/>
  <text x="195" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#60a5fa">FLUX</text>
  <text x="195" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">Local</text>
  
  <rect x="70" y="320" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#60a5fa" stroke-width="1"/>
  <text x="105" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#60a5fa">SDXL</text>
  <text x="105" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">Local</text>
  
  <rect x="160" y="320" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#60a5fa" stroke-width="1"/>
  <text x="195" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#60a5fa">IPAdapter</text>
  <text x="195" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">Face</text>
  
  <!-- Video Generation -->
  <rect x="280" y="220" width="200" height="180" rx="10" fill="#1a1b26" stroke="#8b5cf6" stroke-width="2"/>
  <text x="380" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#8b5cf6">VIDEO GENERATION</text>
  
  <rect x="300" y="260" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="335" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#a78bfa">LTX</text>
  <text x="335" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">0.9.7</text>
  
  <rect x="390" y="260" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="425" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#a78bfa">WanVideo</text>
  <text x="425" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">ComfyUI</text>
  
  <rect x="300" y="320" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="335" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#a78bfa">SVD</text>
  <text x="335" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">Stability</text>
  
  <rect x="390" y="320" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#a78bfa" stroke-width="1"/>
  <text x="425" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#a78bfa">Ken Burns</text>
  <text x="425" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">FFmpeg</text>
  
  <!-- Music Generation -->
  <rect x="510" y="220" width="200" height="180" rx="10" fill="#1a1b26" stroke="#ec4899" stroke-width="2"/>
  <text x="610" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ec4899">MUSIC GENERATION</text>
  
  <rect x="530" y="260" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#f472b6" stroke-width="1"/>
  <text x="565" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#f472b6">MusicGen</text>
  <text x="565" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">Local</text>
  
  <rect x="620" y="260" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#f472b6" stroke-width="1"/>
  <text x="655" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#f472b6">Suno</text>
  <text x="655" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">Cloud</text>
  
  <rect x="530" y="320" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#f472b6" stroke-width="1"/>
  <text x="565" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#f472b6">Bark</text>
  <text x="565" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">TTS</text>
  
  <rect x="620" y="320" width="70" height="50" rx="5" fill="#2d2d3d" stroke="#f472b6" stroke-width="1"/>
  <text x="655" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#f472b6">Whisper</text>
  <text x="655" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="#6b7280">STT</text>
  
  <!-- Arrows down from prompt/audio -->
  <path d="M 700 110 L 700 200 L 150 200 L 150 215" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#dataArrow)"/>
  <path d="M 700 190 L 700 200 L 380 200 L 380 215" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#dataArrow)"/>
  <path d="M 700 190 L 700 200 L 610 200 L 610 215" stroke="#3b82f6" stroke-width="2" fill="none" marker-end="url(#dataArrow)"/>
  
  <!-- Assembly Layer -->
  <rect x="740" y="220" width="160" height="180" rx="10" fill="#1a1b26" stroke="#22c55e" stroke-width="2" filter="url(#glow)"/>
  <text x="820" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#22c55e">VIDEO ASSEMBLY</text>
  <text x="820" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#9ca3af">FFmpeg Worker</text>
  <text x="820" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ Multi-clip concat</text>
  <text x="820" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ 25+ Transitions</text>
  <text x="820" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ Beat-sync cuts</text>
  <text x="820" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ Audio mixing</text>
  <text x="820" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">‚Ä¢ Subtitles</text>
  
  <!-- Arrows to assembly -->
  <line x1="250" y1="310" x2="250" y2="440" stroke="#22c55e" stroke-width="2"/>
  <line x1="250" y1="440" x2="735" y2="440" stroke="#22c55e" stroke-width="2"/>
  <line x1="735" y1="440" x2="735" y2="310" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <line x1="480" y1="310" x2="480" y2="420" stroke="#22c55e" stroke-width="2"/>
  <line x1="480" y1="420" x2="735" y2="420" stroke="#22c55e" stroke-width="2"/>
  
  <line x1="710" y1="310" x2="735" y2="310" stroke="#22c55e" stroke-width="2"/>
  
  <!-- Storage -->
  <rect x="930" y="220" width="140" height="180" rx="10" fill="#1a1b26" stroke="#6366f1" stroke-width="2"/>
  <text x="1000" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#6366f1">STORAGE</text>
  <text x="1000" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">üìÅ /data/uploads</text>
  <text x="1000" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">üìÅ /data/outputs</text>
  <text x="1000" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">üìÅ /data/cache</text>
  <text x="1000" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#9ca3af">Redis Queue</text>
  <text x="1000" y="380" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#9ca3af">SQLite DB</text>
  
  <!-- Arrow to storage -->
  <line x1="900" y1="310" x2="925" y2="310" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <!-- Output -->
  <rect x="740" y="450" width="230" height="100" rx="10" fill="#1a1b26" stroke="#f97316" stroke-width="2" filter="url(#glow)"/>
  <text x="855" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f97316">OUTPUT</text>
  <text x="855" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#9ca3af">Final Video (MP4)</text>
  <text x="855" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">1080p/4K ‚Ä¢ H.264 ‚Ä¢ AAC</text>
  <text x="855" y="540" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6b7280">+ Thumbnails + Metadata</text>
  
  <!-- Arrow from assembly to output -->
  <line x1="820" y1="400" x2="820" y2="445" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <!-- User output -->
  <ellipse cx="1000" cy="500" rx="60" ry="35" fill="#1a1b26" stroke="#22c55e" stroke-width="2"/>
  <text x="1000" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#22c55e">USER</text>
  <text x="1000" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#9ca3af">Download</text>
  
  <!-- Arrow to user -->
  <line x1="970" y1="500" x2="940" y2="500" stroke="#22c55e" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <!-- Legend -->
  <rect x="50" y="560" width="450" height="70" rx="8" fill="#1a1b26" stroke="#374151" stroke-width="1"/>
  <text x="70" y="585" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#9ca3af">LEGEND:</text>
  <line x1="130" y1="580" x2="170" y2="580" stroke="#22c55e" stroke-width="2"/>
  <text x="180" y="585" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Control Flow</text>
  <line x1="270" y1="580" x2="310" y2="580" stroke="#3b82f6" stroke-width="2"/>
  <text x="320" y="585" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Data Flow</text>
  <rect x="130" y="600" width="30" height="15" rx="3" fill="#2d2d3d" stroke="#60a5fa" stroke-width="1"/>
  <text x="180" y="612" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Local Model</text>
  <rect x="270" y="600" width="30" height="15" rx="3" fill="#2d2d3d" stroke="#f472b6" stroke-width="1"/>
  <text x="320" y="612" font-family="Arial, sans-serif" font-size="9" fill="#6b7280">Cloud Service</text>
  
  <!-- Footer -->
  <text x="550" y="630" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4b5563">
    Nano Banana Studio Pro v2.0 - Complete Data Flow Architecture
  </text>
</svg>
